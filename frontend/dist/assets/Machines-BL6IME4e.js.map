{"version":3,"file":"Machines-BL6IME4e.js","sources":["../../src/pages/Machines.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Helmet } from 'react-helmet-async';\nimport {\n  MagnifyingGlassIcon,\n  FunnelIcon,\n  PlusIcon,\n  EyeIcon,\n  PlayIcon,\n  StopIcon,\n  ExclamationTriangleIcon,\n  CheckCircleIcon,\n  ClockIcon,\n  Cog6ToothIcon,\n  ChartBarIcon,\n  DocumentTextIcon,\n  WrenchScrewdriverIcon\n} from '@heroicons/react/24/outline';\n\n// Hooks\nimport { useAuth } from '@/hooks/useAuth';\nimport { useSocket } from '@/hooks/useSocket';\nimport { useMachineStatus } from '@/hooks/useMachineStatus';\nimport { useRealTimeProduction } from '@/hooks/useRealTimeProduction';\nimport { useMachinePermissions } from '@/hooks/useMachinePermissions';\n\n// Utilitários\nimport { cn, formatDateTime, formatNumber } from '@/lib/utils';\nimport { ROUTES } from '@/config/routes';\n\nconst Machines = () => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState('ALL');\n  const [sortBy, setSortBy] = useState('name'); // name, status, efficiency, lastUpdate\n  const [sortOrder, setSortOrder] = useState('asc');\n  const [selectedMachine, setSelectedMachine] = useState(null);\n  const [showFilters, setShowFilters] = useState(false);\n\n\n  \n  const { user } = useAuth();\n  const { isConnected } = useSocket();\n  const { machines, stats, loading, error } = useMachineStatus();\n  const { filterMachinesByPermissions, hasPermissionForMachine, loading: permissionsLoading } = useMachinePermissions();\n  const navigate = useNavigate();\n\n\n\n  // Agora usando dados reais da API\n\n  // Mostrar loading enquanto carrega dados ou permissões\n  if (loading || permissionsLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600 dark:text-gray-400\">Carregando máquinas...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Mostrar erro se houver problema\n  if (error) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"text-red-500 mb-4\">\n            <svg className=\"mx-auto h-12 w-12\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 15.5c-.77.833.192 2.5 1.732 2.5z\" />\n            </svg>\n          </div>\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">Erro ao carregar máquinas</h3>\n          <p className=\"text-gray-600 dark:text-gray-400 mb-4\">{error}</p>\n          <button \n            onClick={() => window.location.reload()} \n            className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\n          >\n            Tentar novamente\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // Filtrar máquinas por permissões primeiro, depois aplicar outros filtros\n  // Só filtrar se as permissões já foram carregadas\n  const permissionFilteredMachines = permissionsLoading ? [] : filterMachinesByPermissions(machines || [], 'canView');\n  \n  // Filtrar e ordenar máquinas\n  const filteredMachines = permissionFilteredMachines\n    .filter(machine => {\n      const matchesSearch = machine.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                           machine.id.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                           machine.location.toLowerCase().includes(searchTerm.toLowerCase());\n      const matchesStatus = statusFilter === 'ALL' || machine.status === statusFilter;\n      return matchesSearch && matchesStatus;\n    })\n    .sort((a, b) => {\n      let aValue, bValue;\n      \n      switch (sortBy) {\n        case 'name':\n          aValue = a.name;\n          bValue = b.name;\n          break;\n        case 'status':\n          aValue = a.status;\n          bValue = b.status;\n          break;\n        case 'efficiency':\n          aValue = a.efficiency;\n          bValue = b.efficiency;\n          break;\n        case 'lastUpdate':\n          aValue = a.lastUpdate;\n          bValue = b.lastUpdate;\n          break;\n        default:\n          return 0;\n      }\n      \n      if (sortOrder === 'asc') {\n        return aValue > bValue ? 1 : -1;\n      } else {\n        return aValue < bValue ? 1 : -1;\n      }\n    });\n\n  const getStatusConfig = (status) => {\n    switch (status) {\n      case 'FUNCIONANDO':\n      case 'RUNNING':\n        return {\n          label: 'Funcionando',\n          color: 'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400',\n          icon: PlayIcon,\n          iconColor: 'text-green-600 dark:text-green-400'\n        };\n      case 'PARADA':\n      case 'STOPPED':\n        return {\n          label: 'Parada',\n          color: 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300',\n          icon: StopIcon,\n          iconColor: 'text-gray-600 dark:text-gray-400'\n        };\n      case 'MANUTENCAO':\n      case 'MAINTENANCE':\n        return {\n          label: 'Manutenção',\n          color: 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400',\n          icon: WrenchScrewdriverIcon,\n          iconColor: 'text-yellow-600 dark:text-yellow-400'\n        };\n      case 'ERROR':\n        return {\n          label: 'Erro',\n          color: 'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400',\n          icon: ExclamationTriangleIcon,\n          iconColor: 'text-red-600 dark:text-red-400'\n        };\n      case 'FORA_DE_TURNO':\n      case 'OFF_SHIFT':\n        return {\n          label: 'Fora de Turno',\n          color: 'bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400',\n          icon: ClockIcon,\n          iconColor: 'text-blue-600 dark:text-blue-400'\n        };\n      default:\n        return {\n          label: 'Desconhecido',\n          color: 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300',\n          icon: ClockIcon,\n          iconColor: 'text-gray-600 dark:text-gray-400'\n        };\n    }\n  };\n\n  const getEfficiencyColor = (efficiency) => {\n    if (efficiency >= 90) return 'text-green-600 dark:text-green-400';\n    if (efficiency >= 80) return 'text-yellow-600 dark:text-yellow-400';\n    return 'text-red-600 dark:text-red-400';\n  };\n\n  const getAlertSeverityColor = (severity) => {\n    switch (severity) {\n      case 'error':\n        return 'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400';\n      case 'warning':\n        return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400';\n      case 'info':\n        return 'bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400';\n      default:\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300';\n    }\n  };\n\n  const MachineCard = ({ machine }) => {\n    const statusConfig = getStatusConfig(machine.status);\n    const StatusIcon = statusConfig.icon;\n    \n    // Hook para dados de produção em tempo real\n    const realTimeProduction = useRealTimeProduction(machine);\n    \n    return (\n      <motion.div\n        layout\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        exit={{ opacity: 0, y: -20 }}\n        whileHover={{ scale: 1.02 }}\n        className=\"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow\"\n      >\n        <div className=\"flex items-start justify-between mb-4\">\n          <div className=\"flex items-center space-x-3\">\n            <div className={cn(\n              'p-2 rounded-lg',\n              machine.status === 'FUNCIONANDO' ? 'bg-green-100 dark:bg-green-900/20' :\n              machine.status === 'ERROR' ? 'bg-red-100 dark:bg-red-900/20' :\n              machine.status === 'MAINTENANCE' ? 'bg-yellow-100 dark:bg-yellow-900/20' :\n              'bg-gray-100 dark:bg-gray-700'\n            )}>\n              <StatusIcon className={cn('h-6 w-6', statusConfig.iconColor)} />\n            </div>\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                {machine.name}\n              </h3>\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                {machine.id} • {machine.model}\n              </p>\n            </div>\n          </div>\n          \n          <div className=\"flex items-center space-x-2\">\n            <span className={cn(\n              'inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium',\n              statusConfig.color\n            )}>\n              {statusConfig.label}\n            </span>\n            \n            {machine.alerts && machine.alerts.length > 0 && (\n              <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400\">\n                {machine.alerts.length}\n              </span>\n            )}\n          </div>\n        </div>\n        \n        <div className=\"grid grid-cols-2 gap-4 mb-4\">\n          <div>\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">Localização</p>\n            <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\n              {machine.location}\n            </p>\n          </div>\n          <div>\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">Operador</p>\n            <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\n              {machine.operator}\n            </p>\n          </div>\n        </div>\n        \n        <div className=\"grid grid-cols-2 gap-4 mb-4\">\n          <div>\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">Eficiência</p>\n            <p className={cn(\n              'text-lg font-bold',\n              getEfficiencyColor(realTimeProduction.efficiency)\n            )}>\n              {realTimeProduction.efficiency}%\n            </p>\n            <div className=\"text-xs text-gray-500 mt-1\">\n              {realTimeProduction.isRunning ? 'Em Operação' : 'Parada'}\n            </div>\n          </div>\n          <div>\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">Produção Atual</p>\n            <p className=\"text-lg font-bold text-gray-900 dark:text-white\">\n              {Math.floor(realTimeProduction.currentProduction || 0).toLocaleString()}\n              <span className=\"text-sm text-gray-500 dark:text-gray-400 font-normal\">\n                /{(realTimeProduction.targetProduction || 0).toLocaleString()}\n              </span>\n            </p>\n\n            <div className=\"text-xs text-green-600 mt-1\">\n              {realTimeProduction.isRunning ? `+${realTimeProduction.currentSpeed}/min` : 'Velocidade: 0/min'}\n            </div>\n          </div>\n        </div>\n        \n        {/* Barra de progresso da produção */}\n        <div className=\"mb-4\">\n          <div className=\"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-1\">\n            <span>Meta de Produção (Turno Atual)</span>\n            <span>{Math.round(((realTimeProduction.currentProduction || 0) / (realTimeProduction.targetProduction || 1)) * 100)}%</span>\n          </div>\n          <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\">\n            <div \n              className={cn(\n                'h-2 rounded-full transition-all duration-300',\n(realTimeProduction.currentProduction || 0) >= (realTimeProduction.targetProduction || 1) \n                  ? 'bg-green-500'\n                  : (realTimeProduction.currentProduction || 0) >= (realTimeProduction.targetProduction || 1) * 0.8\n                  ? 'bg-yellow-500'\n                  : 'bg-red-500'\n              )}\n              style={{ \n                width: `${Math.min(((realTimeProduction.currentProduction || 0) / (realTimeProduction.targetProduction || 1)) * 100, 100)}%` \n              }}\n            />\n          </div>\n          <div className=\"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1\">\n            <span>Tempo ativo: {realTimeProduction.formattedRunningTime}</span>\n            <span>Última atualização: {new Date().toLocaleTimeString('pt-BR')}</span>\n          </div>\n        </div>\n        \n        {/* Alertas */}\n        {machine.alerts && machine.alerts.length > 0 && (\n          <div className=\"mb-4\">\n            <p className=\"text-sm font-medium text-gray-900 dark:text-white mb-2\">\n              Alertas Ativos\n            </p>\n            <div className=\"space-y-1\">\n              {machine.alerts.slice(0, 2).map((alert) => (\n                <div key={alert.id} className={cn(\n                  'px-2 py-1 rounded text-xs',\n                  getAlertSeverityColor(alert.severity)\n                )}>\n                  {alert.message}\n                </div>\n              ))}\n              {machine.alerts.length > 2 && (\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                  +{machine.alerts.length - 2} mais alertas\n                </p>\n              )}\n            </div>\n          </div>\n        )}\n        \n        <div className=\"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-4\">\n          <span>Última atualização: {formatDateTime(machine.updatedAt || machine.lastUpdate)}</span>\n        </div>\n        \n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-2\">\n            <Link\n              to={`/machines/${machine.id}`}\n              className=\"inline-flex items-center px-3 py-1.5 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors\"\n            >\n              <EyeIcon className=\"h-4 w-4 mr-1\" />\n              Detalhes\n            </Link>\n            \n            {/* Link para página de Status detalhada */}\n            {(user?.role === 'OPERATOR' || user?.role === 'LEADER' || user?.role === 'MANAGER' || user?.role === 'ADMIN') && (\n              <Link\n                to={`/machines/${machine.id}/status`}\n                className=\"inline-flex items-center px-3 py-1.5 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors\"\n              >\n                <ClockIcon className=\"h-4 w-4 mr-1\" />\n                Status\n              </Link>\n            )}\n            \n            {(user?.role === 'ADMIN' || user?.role === 'MANAGER' || user?.role === 'LEADER') && (\n              <Link\n                to={`/machines/${machine.id}/config`}\n                className=\"inline-flex items-center px-3 py-1.5 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors\"\n              >\n                <Cog6ToothIcon className=\"h-4 w-4 mr-1\" />\n                Configurar\n              </Link>\n            )}\n          </div>\n          \n          <div className=\"flex items-center space-x-1\">\n            <button className=\"p-1.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\">\n              <ChartBarIcon className=\"h-4 w-4\" />\n            </button>\n            <button className=\"p-1.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\">\n              <DocumentTextIcon className=\"h-4 w-4\" />\n            </button>\n          </div>\n        </div>\n      </motion.div>\n    );\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>Máquinas - Sistema ZARA</title>\n        <meta name=\"description\" content=\"Gerenciamento de máquinas do Sistema ZARA\" />\n      </Helmet>\n      \n      <div className=\"space-y-6\">\n        {/* Header */}\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n              Máquinas\n            </h1>\n            <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">\n              Monitore o status e desempenho de todas as máquinas\n            </p>\n          </div>\n          \n          {(user?.role === 'ADMIN' || user?.role === 'MANAGER') && (\n            <div className=\"mt-4 sm:mt-0\">\n              <Link\n                to={ROUTES.MACHINE_NEW}\n                className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 transition-colors\"\n              >\n                <PlusIcon className=\"h-4 w-4 mr-2\" />\n                Nova Máquina\n              </Link>\n            </div>\n          )}\n        </div>\n\n        {/* Filtros e Busca */}\n        <div className=\"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\">\n          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0\">\n            <div className=\"flex flex-col sm:flex-row sm:items-center space-y-4 sm:space-y-0 sm:space-x-4\">\n              {/* Busca */}\n              <div className=\"relative\">\n                <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Buscar máquinas...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                />\n              </div>\n              \n              {/* Filtro de Status */}\n              <select\n                value={statusFilter}\n                onChange={(e) => setStatusFilter(e.target.value)}\n                className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              >\n                <option value=\"ALL\">Todos os Status</option>\n                <option value=\"RUNNING\">Funcionando</option>\n                <option value=\"STOPPED\">Paradas</option>\n                <option value=\"MAINTENANCE\">Manutenção</option>\n                <option value=\"ERROR\">Erro</option>\n              </select>\n              \n              {/* Ordenação */}\n              <div className=\"flex items-center space-x-2\">\n                <select\n                  value={sortBy}\n                  onChange={(e) => setSortBy(e.target.value)}\n                  className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                >\n                  <option value=\"name\">Nome</option>\n                  <option value=\"status\">Status</option>\n                  <option value=\"efficiency\">Eficiência</option>\n                  <option value=\"lastUpdate\">Última Atualização</option>\n                </select>\n                \n                <button\n                  onClick={() => setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc')}\n                  className=\"p-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors\"\n                >\n                  {sortOrder === 'asc' ? '↑' : '↓'}\n                </button>\n              </div>\n            </div>\n            \n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-sm text-gray-500 dark:text-gray-400\">\n                {filteredMachines.length} máquinas\n              </span>\n              \n              {/* Status de conexão */}\n              <div className={cn(\n                'flex items-center space-x-2 px-3 py-1 rounded-full text-xs font-medium',\n                isConnected \n                  ? 'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400'\n                  : 'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400'\n              )}>\n                <div className={cn(\n                  'h-1.5 w-1.5 rounded-full',\n                  isConnected ? 'bg-green-500' : 'bg-red-500'\n                )} />\n                <span>{isConnected ? 'Online' : 'Offline'}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Lista de Máquinas */}\n        <AnimatePresence>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6\">\n            {filteredMachines.map((machine) => (\n              <MachineCard key={machine.id} machine={machine} />\n            ))}\n          </div>\n        </AnimatePresence>\n        \n        {filteredMachines.length === 0 && (\n          <div className=\"text-center py-12\">\n            <WrenchScrewdriverIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900 dark:text-white\">\n              Nenhuma máquina encontrada\n            </h3>\n            <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">\n              Tente ajustar os filtros de busca.\n            </p>\n          </div>\n        )}\n      </div>\n\n\n    </>\n  );\n};\n\nexport default Machines;"],"names":["Machines","searchTerm","setSearchTerm","useState","statusFilter","setStatusFilter","sortBy","setSortBy","sortOrder","setSortOrder","selectedMachine","setSelectedMachine","showFilters","setShowFilters","user","useAuth","isConnected","useSocket","machines","loading","error","useMachineStatus","filterMachinesByPermissions","permissionsLoading","useMachinePermissions","useNavigate","jsxs","jsx","filteredMachines","machine","matchesSearch","matchesStatus","a","b","aValue","bValue","getStatusConfig","status","PlayIcon","StopIcon","WrenchScrewdriverIcon","ExclamationTriangleIcon","ClockIcon","getEfficiencyColor","efficiency","getAlertSeverityColor","severity","MachineCard","statusConfig","StatusIcon","realTimeProduction","useRealTimeProduction","motion","cn","alert","formatDateTime","Link","EyeIcon","Cog6ToothIcon","ChartBarIcon","DocumentTextIcon","Fragment","Helmet","ROUTES","PlusIcon","MagnifyingGlassIcon","e","AnimatePresence"],"mappings":"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"}