import{r as a}from"./index-DY2ZM4tI.js";import"./query-B88w_-l3.js";import"./vendor-BKU87Gzz.js";import"./router-Cr3qqr-L.js";import"./utils-CZH8StwO.js";const l={async getTests(e={}){const o=new URLSearchParams;e.page&&o.append("page",e.page),e.limit&&o.append("limit",e.limit),e.machineId&&o.append("machineId",e.machineId),e.approved!==void 0&&o.append("approved",e.approved),e.startDate&&o.append("startDate",e.startDate),e.endDate&&o.append("endDate",e.endDate),e.search&&o.append("search",e.search);const n=o.toString(),t=n?`/quality-tests?${n}`:"/quality-tests";return(await a.get(t)).data},async getTest(e){return(await a.get(`/quality-tests/${e}`)).data},async createTest(e){console.log("=== Frontend - Dados originais do formulário ==="),console.log("testData:",JSON.stringify(e,null,2));const o={machineId:parseInt(e.machineId),product:e.product||"Produto Padrão",lot:e.lot||`LOT-${Date.now()}`,boxNumber:e.boxNumber||`BOX-${Date.now()}`,packageSize:e.packageSize||"Médio",packageWidth:parseFloat(e.packageWidth)||.25,bottomSize:parseFloat(e.bottomSize)||10,sideSize:parseFloat(e.sideSize)||15,zipperDistance:parseFloat(e.zipperDistance)||2,facilitatorDistance:parseFloat(e.facilitatorDistance)||1.5,rulerTestDone:!!e.rulerTestDone,hermeticityTestDone:!!e.hermeticityTestDone,visualInspection:e.visualInspection,dimensionalCheck:e.dimensionalCheck,colorConsistency:e.colorConsistency,surfaceQuality:e.surfaceQuality,adhesionTest:e.adhesionTest,approved:e.approved!==null?!!e.approved:!0,observations:e.observations||"",images:e.media&&e.media.length>0?e.media.filter(t=>t.type==="image").map(t=>t.name||"image.jpg"):["placeholder-image.jpg"],videos:e.media&&e.media.length>0?e.media.filter(t=>t.type==="video").map(t=>t.name||"video.mp4"):[]};return console.log("=== Frontend - Dados enviados para API ==="),console.log("apiData:",JSON.stringify(o,null,2)),(await a.post("/quality-tests",o)).data},async updateTest(e,o){return(await a.put(`/quality-tests/${e}`,o)).data},async deleteTest(e){return(await a.delete(`/quality-tests/${e}`)).data},async getStats(e={}){const o=new URLSearchParams;e.startDate&&o.append("startDate",e.startDate),e.endDate&&o.append("endDate",e.endDate),e.machineId&&o.append("machineId",e.machineId);const n=o.toString(),t=n?`/quality-tests/stats/summary?${n}`:"/quality-tests/stats/summary";return(await a.get(t)).data},async uploadImages(e,o){const n=new FormData;return o.forEach(i=>{n.append("images",i)}),n.append("testId",e),(await a.post("/quality-tests/upload-images",n,{headers:{"Content-Type":"multipart/form-data"}})).data},async uploadVideos(e,o){const n=new FormData;return o.forEach(i=>{n.append("videos",i)}),n.append("testId",e),(await a.post("/quality-tests/upload-videos",n,{headers:{"Content-Type":"multipart/form-data"}})).data}};export{l as default,l as qualityTestsService};
//# sourceMappingURL=qualityTests-DrYlWTji.js.map
