import{j as e}from"./query-B88w_-l3.js";import{r as t}from"./vendor-BKU87Gzz.js";import{u as k,W as j,v as N,m as x,k as v,e as w,c as C,R as u}from"./index-DY2ZM4tI.js";import{a as S}from"./router-Cr3qqr-L.js";import{F as q}from"./ArrowLeftIcon-DeKPabn9.js";import"./utils-CZH8StwO.js";const O=()=>{const n=S(),{user:E}=k(),[o,l]=t.useState(!1),[i,c]=t.useState(null),[g,h]=t.useState(!1),[a,b]=t.useState({name:"",code:"",model:"",location:"",description:""}),r=d=>{const{name:s,value:f}=d.target;b(p=>({...p,[s]:f}))},y=async d=>{d.preventDefault(),l(!0),c(null);try{if(!(await fetch("/api/machines",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(a)})).ok)throw new Error("Erro ao criar máquina");h(!0),setTimeout(()=>{n(u.MACHINES)},2e3)}catch(s){c(s.message)}finally{l(!1)}},m=()=>{n(u.MACHINES)};return e.jsxs(e.Fragment,{children:[e.jsxs(j,{children:[e.jsx("title",{children:"Nova Máquina - Zara Operação"}),e.jsx("meta",{name:"description",content:"Cadastrar nova máquina no sistema"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:m,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:e.jsx(q,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(N,{className:"h-8 w-8 mr-3 text-blue-600 dark:text-blue-400"}),"Nova Máquina"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Cadastrar uma nova máquina no sistema"})]})]})}),i&&e.jsx(x.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(v,{className:"h-5 w-5 text-red-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:i})})]})}),g&&e.jsx(x.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(w,{className:"h-5 w-5 text-green-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Máquina criada com sucesso! Redirecionando..."})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome da Máquina *"}),e.jsx("input",{type:"text",name:"name",id:"name",required:!0,value:a.name,onChange:r,className:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm",placeholder:"Ex: Máquina 06"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Código *"}),e.jsx("input",{type:"text",name:"code",id:"code",required:!0,value:a.code,onChange:r,className:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm",placeholder:"Ex: M006"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Modelo"}),e.jsx("input",{type:"text",name:"model",id:"model",value:a.model,onChange:r,className:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm",placeholder:"Ex: ZARA-X1000"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Localização"}),e.jsx("input",{type:"text",name:"location",id:"location",value:a.location,onChange:r,className:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm",placeholder:"Ex: Linha C - Posição 2"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Descrição"}),e.jsx("textarea",{name:"description",id:"description",rows:4,value:a.description,onChange:r,className:"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm",placeholder:"Descrição opcional da máquina"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:m,className:"bg-white dark:bg-gray-700 py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:o,className:C("py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white",o?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"),children:o?"Criando...":"Criar Máquina"})]})]})})})]})]})};export{O as default};
//# sourceMappingURL=MachineNew-Bmqq4znQ.js.map
