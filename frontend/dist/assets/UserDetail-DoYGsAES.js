import{j as e}from"./query-B88w_-l3.js";import{r as i}from"./vendor-BKU87Gzz.js";import{c as R,a as F,L as D}from"./router-Cr3qqr-L.js";import{u as E,L as $,k as C,W as I,c as d,e as L,O as S,Q as l,l as T,z as x,N as y,A as U,p as O}from"./index-DY2ZM4tI.js";import{F as j}from"./ArrowLeftIcon-DeKPabn9.js";import{F as z}from"./PencilIcon-c7Nm3ZXQ.js";import{F as P}from"./EnvelopeIcon-6kO86Iod.js";import{F as B}from"./PhoneIcon-I1tsrdWX.js";import"./utils-CZH8StwO.js";const X=()=>{const{id:o}=R(),m=F(),{user:G}=E(),[t,p]=i.useState(null),[f,g]=i.useState(!0),[h,N]=i.useState(null),[n,b]=i.useState("overview");i.useEffect(()=>{(async()=>{try{g(!0);const a=await fetch(`/api/users/${o}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!a.ok)throw new Error("Erro ao carregar dados do usuário");const c=await a.json();if(c.success)p(c.data);else throw new Error(c.message||"Erro ao carregar dados do usuário")}catch{N("Erro ao carregar dados do usuário")}finally{g(!1)}})()},[o]);const v=s=>{const a={ADMIN:{label:"Administrador",color:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",icon:y,iconColor:"text-purple-600 dark:text-purple-400"},MANAGER:{label:"Gerente",color:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",icon:l,iconColor:"text-blue-600 dark:text-blue-400"},LEADER:{label:"Líder",color:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",icon:l,iconColor:"text-green-600 dark:text-green-400"},OPERATOR:{label:"Operador",color:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",icon:l,iconColor:"text-gray-600 dark:text-gray-400"}};return a[s]||a.OPERATOR},u=s=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(s)),w=s=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(s));if(f)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx($,{size:"lg"})});if(h||!t)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(C,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:h||"Usuário não encontrado"}),e.jsxs(D,{to:"/users",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),"Voltar aos Usuários"]})]})});const r=v(t.role),k=r.icon,A=[{id:"overview",label:"Visão Geral",icon:l},{id:"activity",label:"Atividades",icon:T},{id:"history",label:"Histórico",icon:x}];return e.jsxs(e.Fragment,{children:[e.jsxs(I,{children:[e.jsxs("title",{children:[t.name," - Detalhes do Usuário - Sistema ZARA"]}),e.jsx("meta",{name:"description",content:`Detalhes do usuário ${t.name}`})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>m("/users"),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:e.jsx(j,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.email})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:d("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",r.color),children:[e.jsx(k,{className:d("h-3 w-3 mr-1",r.iconColor)}),r.label]}),e.jsxs("span",{className:d("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",t.isActive?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"),children:[t.isActive?e.jsx(L,{className:"h-3 w-3 mr-1"}):e.jsx(S,{className:"h-3 w-3 mr-1"}),t.isActive?"Ativo":"Inativo"]}),e.jsxs("button",{onClick:()=>m(`/users/${t.id}/edit`),className:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Editar"]})]})]}),e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:A.map(s=>{const a=s.icon;return e.jsxs("button",{onClick:()=>b(s.id),className:d("flex items-center py-2 px-1 border-b-2 font-medium text-sm transition-colors",n===s.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[e.jsx(a,{className:"h-4 w-4 mr-2"}),s.label]},s.id)})})}),e.jsxs("div",{className:"space-y-6",children:[n==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Informações Pessoais"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(l,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Nome Completo"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.name})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(P,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Email"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.email})]})]}),t.phone&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(B,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Telefone"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.phone})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(y,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Função"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.label})]})]}),t.badgeNumber&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(x,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Número do Crachá"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.badgeNumber})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(U,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Data de Criação"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:w(t.createdAt)})]})]})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Status"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Status da Conta"}),e.jsx("span",{className:d("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",t.isActive?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"),children:t.isActive?"Ativo":"Inativo"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Último Acesso"}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:t.lastLogin?u(t.lastLogin):"Nunca"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Atualizado em"}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:u(t.updatedAt)})]})]})]})})]}),n==="activity"&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Atividades Recentes"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(O,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Funcionalidade de atividades será implementada em breve"})]})]}),n==="history"&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Histórico do Usuário"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(x,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Histórico detalhado será implementado em breve"})]})]})]})]})]})};export{X as default};
//# sourceMappingURL=UserDetail-DoYGsAES.js.map
