{"version":3,"file":"MachineNew-Bmqq4znQ.js","sources":["../../src/pages/MachineNew.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport { Helmet } from 'react-helmet-async';\nimport {\n  ArrowLeftIcon,\n  WrenchScrewdriverIcon,\n  CheckCircleIcon,\n  ExclamationTriangleIcon\n} from '@heroicons/react/24/outline';\n\n// Hooks\nimport { useAuth } from '@/hooks/useAuth';\n\n// Utilitários\nimport { cn } from '@/lib/utils';\nimport { ROUTES } from '@/config/routes';\n\nconst MachineNew = () => {\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n  \n  const [formData, setFormData] = useState({\n    name: '',\n    code: '',\n    model: '',\n    location: '',\n    description: ''\n  });\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await fetch('/api/machines', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify(formData)\n      });\n\n      if (!response.ok) {\n        throw new Error('Erro ao criar máquina');\n      }\n\n      setSuccess(true);\n      setTimeout(() => {\n        navigate(ROUTES.MACHINES);\n      }, 2000);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleBack = () => {\n    navigate(ROUTES.MACHINES);\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>Nova Máquina - Zara Operação</title>\n        <meta name=\"description\" content=\"Cadastrar nova máquina no sistema\" />\n      </Helmet>\n\n      <div className=\"space-y-6\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <button\n              onClick={handleBack}\n              className=\"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\"\n            >\n              <ArrowLeftIcon className=\"h-5 w-5\" />\n            </button>\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white flex items-center\">\n                <WrenchScrewdriverIcon className=\"h-8 w-8 mr-3 text-blue-600 dark:text-blue-400\" />\n                Nova Máquina\n              </h1>\n              <p className=\"mt-1 text-sm text-gray-500 dark:text-gray-400\">\n                Cadastrar uma nova máquina no sistema\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Alertas */}\n        {error && (\n          <motion.div\n            initial={{ opacity: 0, y: -10 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4\"\n          >\n            <div className=\"flex\">\n              <ExclamationTriangleIcon className=\"h-5 w-5 text-red-400\" />\n              <div className=\"ml-3\">\n                <p className=\"text-sm text-red-800 dark:text-red-200\">{error}</p>\n              </div>\n            </div>\n          </motion.div>\n        )}\n\n        {success && (\n          <motion.div\n            initial={{ opacity: 0, y: -10 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md p-4\"\n          >\n            <div className=\"flex\">\n              <CheckCircleIcon className=\"h-5 w-5 text-green-400\" />\n              <div className=\"ml-3\">\n                <p className=\"text-sm text-green-800 dark:text-green-200\">\n                  Máquina criada com sucesso! Redirecionando...\n                </p>\n              </div>\n            </div>\n          </motion.div>\n        )}\n\n        {/* Formulário */}\n        <div className=\"bg-white dark:bg-gray-800 shadow rounded-lg\">\n          <div className=\"px-4 py-5 sm:p-6\">\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2\">\n                {/* Nome da Máquina */}\n                <div>\n                  <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                    Nome da Máquina *\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"name\"\n                    id=\"name\"\n                    required\n                    value={formData.name}\n                    onChange={handleInputChange}\n                    className=\"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm\"\n                    placeholder=\"Ex: Máquina 06\"\n                  />\n                </div>\n\n                {/* Código */}\n                <div>\n                  <label htmlFor=\"code\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                    Código *\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"code\"\n                    id=\"code\"\n                    required\n                    value={formData.code}\n                    onChange={handleInputChange}\n                    className=\"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm\"\n                    placeholder=\"Ex: M006\"\n                  />\n                </div>\n\n                {/* Modelo */}\n                <div>\n                  <label htmlFor=\"model\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                    Modelo\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"model\"\n                    id=\"model\"\n                    value={formData.model}\n                    onChange={handleInputChange}\n                    className=\"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm\"\n                    placeholder=\"Ex: ZARA-X1000\"\n                  />\n                </div>\n\n                {/* Localização */}\n                <div>\n                  <label htmlFor=\"location\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                    Localização\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"location\"\n                    id=\"location\"\n                    value={formData.location}\n                    onChange={handleInputChange}\n                    className=\"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm\"\n                    placeholder=\"Ex: Linha C - Posição 2\"\n                  />\n                </div>\n              </div>\n\n              {/* Descrição */}\n              <div>\n                <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\n                  Descrição\n                </label>\n                <textarea\n                  name=\"description\"\n                  id=\"description\"\n                  rows={4}\n                  value={formData.description}\n                  onChange={handleInputChange}\n                  className=\"mt-1 block w-full border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm\"\n                  placeholder=\"Descrição opcional da máquina\"\n                />\n              </div>\n\n              {/* Botões */}\n              <div className=\"flex justify-end space-x-3\">\n                <button\n                  type=\"button\"\n                  onClick={handleBack}\n                  className=\"bg-white dark:bg-gray-700 py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                >\n                  Cancelar\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={loading}\n                  className={cn(\n                    \"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white\",\n                    loading\n                      ? \"bg-gray-400 cursor-not-allowed\"\n                      : \"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  )}\n                >\n                  {loading ? 'Criando...' : 'Criar Máquina'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default MachineNew;"],"names":["MachineNew","navigate","useNavigate","user","useAuth","loading","setLoading","useState","error","setError","success","setSuccess","formData","setFormData","handleInputChange","e","name","value","prev","handleSubmit","ROUTES","err","handleBack","jsxs","Fragment","Helmet","jsx","ArrowLeftIcon","WrenchScrewdriverIcon","motion","ExclamationTriangleIcon","CheckCircleIcon","cn"],"mappings":"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"}